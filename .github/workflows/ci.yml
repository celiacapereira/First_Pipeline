
name: CI

on:
  push:
    branches: [ "test_ci" ]

  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      
      - name: List all files
        run: ls

      - name: Install Python 
        uses: actions/setup-python@v2
        with:
          python-version: '3.7'
      
      - name: Install connector 
        run: pip install snowflake-connector-python

      - name: Install pandas 
        run: pip install pandas 

      - name: Install pandas snowflake
        run: pip install snowflake-connector-python[pandas]

      # - name: Run Python Script
      #   run: python create_file.py
      - name: Run Python Script
        env:
          SF_ACCOUNT: ${{ env.SF_ACCOUNT}} 
          SF_USERNAME: ${{ env.SF_USERNAME}} 
          SNOWFLAKE_PASSWORD: ${{ env.SF_PASSWORD}} 
        run: python create_file.py
  


